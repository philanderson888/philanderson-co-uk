<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 33</title>
</head>
<body>
    <h1>Chapter 33: Counting down</h1>
    <h2>August 29th 2021</h2>
    <div id="chapter-33"></div>
    <div id="chapter-33b"></div>
    <div id="chapter-33c"></div>
    <div id="chapter-33d"></div>


    <script>
        let today = new Date();
        let doomsday = new Date("June 30, 2035");
        console.log(doomsday)
        let msToday = today.getTime();
        let msDoomsday = doomsday.getTime();
        
        let msDifference = msDoomsday - msToday;
        let countDown = msDifference / (1000 * 60 * 60 * 24);
        countDown = Math.floor(countDown);
        console.log(`the amount of days until June 30, 2035 is ${countDown}`);

        let yourDeathDate = prompt("Enter a date and we will show you the countdown.(In the format MONTH DAY YEAR)")
        yourDeathDate = new Date(yourDeathDate)
        let msyourDeathDate = yourDeathDate.getTime();
        let msTimeLeft = msyourDeathDate - msToday
        let countDown2 = msTimeLeft / (1000 * 60 * 60 * 24)
        countDown2 = countDown2.toFixed(1)
        yourDeathDate = yourDeathDate.toDateString();
        console.log("The date you chose is " + yourDeathDate)
        console.log(`the amount of days until ${yourDeathDate} is ${countDown2}`)

        // distance = msTimeLeft
        // now = msToday
        // countDownDate = yourDeathDate

        var x = setInterval(function countDown() {
            let days = Math.floor(msTimeLeft / (1000 * 60 * 60 * 24));
            let hours = Math.floor((msTimeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((msTimeLeft % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((msTimeLeft % (1000 * 60)) / 1000);

            chapter33d = document.getElementById("chapter-33d");
            chapter33d.innerText = `Countdown for your date: ${days}d: ${hours}h: ${minutes}m: ${seconds}s`
            console.log(`Countdown for your date: ${days}d: ${hours}h: ${minutes}m: ${seconds}s`)

            if (msTimeLeft < 0) {
                clearInterval(x);
                chapter33d.innerText = "EXPIRED";
            }
        }, 1000);



        chapter33 = document.getElementById("chapter-33");
        chapter33.innerHTML = `the amount of days until June 30, 2035 is ${countDown}` + "<br></br>"
        chapter33b = document.getElementById("chapter-33b")
        chapter33b.innerText = `The date you chose is ${yourDeathDate}` 
        chapter33c = document.getElementById("chapter-33c")
        chapter33c.innerText = `the amount of days until ${yourDeathDate} is ${countDown2}` 

        // John's countdown in days:hours:mins:secs which didnt work so he used W3Schools version

      // let countDownDays = Math.floor(countDown2)
      // let countDownHours = msTimeLeft / (1000 * 60 * 60)
      // let countDownHours2 = countDownHours - (countDownDays * 24)
      //     countDownHours2 = Math.floor(countDownHours2)

      // let countDownMins = msTimeLeft / (1000 * 60)
      //     console.log(countDownMins)
       // countDownMins = Math.floor(countDownMins)
      // let countDownMins2 = countDownMins - (countDownHours * 60)
      //     countDownMins2 = Math.floor(countDownMins2)
     //      console.log(countDownMins2)
                                                                                                                
     //  let countDownSecs = msTimeLeft / (1000)
     //      countDownSecs = countDownSecs - (countDownMins * 60)
     //      countDownSecs = Math.floor(countDownSecs)

     //   console.log(`countdown for your date: ${countDownDays}:${countDownHours2}:${countDownMins2}:${countDownSecs}`)
    </script>

    
<!-- OUTPUT: 
    Chapter 33: Counting down
    August 29th 2021
    the amount of days until June 30, 2035 is 4329

    The date you chose is Thu Aug 24 2023
    the amount of days until Thu Aug 24 2023 is 1.3
    Countdown for your date: 1d: 7h: 20m: 10s
-->
</body>
</html>